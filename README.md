# CRM для регистрации и обработки входящих заявок от клиентов

[Нажмите, чтобы перейти на сервис](https://domclick.srezanova.me/graphql/)

## Пользователи

Пользователями сервиса являются сотрудники компании.

### Регистрация и аутентификация

Чтобы зарегистрировать пользователя необходимо воспользоваться **register Mutation**.

Необходимые поля для регистрации: почта и пароль.

![register](img/register.png)

Для входа на сервис используется JWT Token. Получаем его через **login Mutation**.

![login](img/login.png)

Пользователь может поменять свою почту с помощью **updateUser Mutation**

![updateUser](img/updateUser.png)

### Получение данных о пользователях

Пользователь может получить свои данные с помощью **me Query**.

![me](img/me.png)

## Клиенты

### Структура карточки клиента

1. ID клиента

2. Номер телефона

3. Имя

### Получение данных о клиенте

Пользовать может получить данные по всем клиентам **allCustomers Query** и по определенному клиенту по ID **customerById Query**.

![customerById](img/customerById.png)

![allCustomers](img/allCustomers.png)

### Создание карточки клиента

Пользователь создает карточку клиента с помощью **createCustomer mutation**.

Поле номер телефона уникальное.

![createCustomer](img/createCustomer.png)

### Изменение карточки клиента

Пользователь может изменить карточку клиента с помощью **updateCustomer mutation**.

Для изменения данных необходимо ввести номер телефона клиента.

Если у клиента поменялся номер телефона - создать новую карточку.

![updateCustomer](img/updateCustomer.png)

### Удаление карточки клиента

Пользователь может удалить карточку клиента с помощью **deleteCustomer mutation**.

При удалении карточки, в заявках в поле "Клиент" устанавливается пустое значение.

![deleteCustomer](img/deleteCustomer.png)

## Заявки

### Структура заявки

1. Номер заявки

2. Дата создания

3. Клиент

4. Ответственный сотрудник по заявке

5. Тип заявки:

   - Консультация
   - Диагностика
   - Ремонт
   - Прочее

6. Статус заявки:

   - Принято
   - В работе
   - Готово
   - Закрыто

7. Дополнительная информация (описание неисправности, результат консультации и т.д.)

### Получение данных о заявках

Доступ ко всем заявкам компании осуществляется через **allRequests Query**

#### Фильтры

- по клиентам(по номеру телефона)

- по статусам (одному или нескольким)

- по категориям

- по дате создания заявки

- по интервалу дат

![allRequestsNoFilters](img/allRequestsNoFilters.png)

![allRequestsFilters](img/allRequestsFilters.png)

![allRequestsFiltersDate](img/allRequestsFiltersDate.png)

Запрос заявки по ID через **requestById Query**.

![requestById](img/requestById.png)

### Создание заявок

Пользователь создает заявки с помощью **createRequest Mutation**.

Клиент заполняется по полю номер телефона. Если такого клиента не существует в базе - создается новая карточка.

Данные пользователя как ответственного сотрудника по заявке автоматически заполняются по данным входа.

![createRequest](img/createRequest.png)

### Изменение заявок

Изменить заявку можно по ее ID с помощью **updateRequest Mutation**.

Доступные поля для изменения: статус, тип заявки, описание.

![updateRequest](img/updateRequest.png)

### Удаление заявок

Удалить заявку можно по ее ID с помощью **deleteRequest Mutation**.

![deleteRequest](img/deleteRequest.png)

## Работа сайта (частичный функционал для отображения возможностей сервиса)

На [домашней странице](https://domclick.srezanova.me/) отображены все заявки с фильтрами.

![home](img/home.png)

Можем создать заявку:

![new-request](img/new-request.png)

Отредактировать и удалить ее:

![edit](img/new-edit.png)
